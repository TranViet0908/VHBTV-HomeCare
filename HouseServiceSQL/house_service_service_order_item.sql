-- MySQL dump 10.13  Distrib 8.0.42, for Win64 (x86_64)
--
-- Host: localhost    Database: house_service
-- ------------------------------------------------------
-- Server version	8.0.42

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!50503 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `service_order_item`
--

DROP TABLE IF EXISTS `service_order_item`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `service_order_item` (
  `id` bigint NOT NULL AUTO_INCREMENT,
  `service_order_id` bigint NOT NULL,
  `vendor_id` bigint NOT NULL,
  `vendor_service_id` bigint NOT NULL,
  `scheduled_at` datetime NOT NULL,
  `quantity` int NOT NULL DEFAULT '1',
  `unit_price` decimal(12,2) NOT NULL,
  `subtotal` decimal(12,2) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `idx_soi_order` (`service_order_id`),
  KEY `idx_soi_vs` (`vendor_service_id`),
  KEY `idx_soi_vendor` (`vendor_id`),
  CONSTRAINT `fk_soi_order` FOREIGN KEY (`service_order_id`) REFERENCES `service_order` (`id`) ON DELETE CASCADE,
  CONSTRAINT `fk_soi_vendor` FOREIGN KEY (`vendor_id`) REFERENCES `vendor_profile` (`user_id`) ON DELETE RESTRICT,
  CONSTRAINT `fk_soi_vs` FOREIGN KEY (`vendor_service_id`) REFERENCES `vendor_service` (`id`) ON DELETE RESTRICT,
  CONSTRAINT `service_order_item_chk_1` CHECK ((`quantity` > 0)),
  CONSTRAINT `soi_chk_unit_price` CHECK ((`unit_price` >= 0))
) ENGINE=InnoDB AUTO_INCREMENT=9713 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `service_order_item`
--

LOCK TABLES `service_order_item` WRITE;
/*!40000 ALTER TABLE `service_order_item` DISABLE KEYS */;
INSERT INTO `service_order_item` VALUES (1,1,1,1,'2025-09-21 09:00:00',1,600000.00,600000.00),(2,2,2,2,'2025-09-22 10:00:00',1,350000.00,350000.00),(3,3,3,3,'2025-09-23 14:00:00',1,400000.00,400000.00),(4,4,4,4,'2025-09-24 08:00:00',1,1500000.00,1500000.00),(5,5,5,5,'2025-09-25 13:30:00',1,1800000.00,1800000.00),(6,6,6,6,'2025-09-26 09:00:00',1,500000.00,500000.00),(7,7,7,7,'2025-09-27 10:00:00',1,250000.00,250000.00),(8,8,8,8,'2025-09-28 15:00:00',1,900000.00,900000.00),(9,9,9,9,'2025-09-29 08:00:00',1,5000000.00,5000000.00),(10,10,10,10,'2025-09-30 09:00:00',1,3500000.00,3500000.00),(11,11,15,11,'2025-09-21 09:00:00',1,350000.00,350000.00),(12,11,15,12,'2025-09-21 11:00:00',1,300000.00,300000.00),(13,12,15,13,'2025-09-20 14:00:00',1,250000.00,250000.00),(14,13,15,14,'2025-09-23 15:30:00',2,200000.00,400000.00),(9701,9601,9001,9501,'2025-09-22 17:00:00',1,500000.00,500000.00),(9702,9602,9002,9502,'2025-09-23 17:00:00',1,350000.00,350000.00),(9703,9603,9003,9503,'2025-09-24 18:00:00',1,700000.00,700000.00),(9704,9604,9001,9506,'2025-09-24 20:00:00',1,600000.00,600000.00),(9705,9605,9004,9504,'2025-09-25 19:00:00',1,800000.00,800000.00),(9706,9606,9002,9507,'2025-09-26 17:30:00',2,450000.00,900000.00),(9707,9607,9005,9505,'2025-09-27 18:00:00',1,650000.00,650000.00),(9708,9608,9002,9502,'2025-09-27 19:00:00',1,350000.00,350000.00),(9709,9609,9004,9504,'2025-09-28 16:30:00',1,800000.00,800000.00),(9710,9610,9004,9504,'2025-09-20 19:00:00',1,800000.00,800000.00),(9711,9611,9005,9508,'2025-09-18 18:00:00',1,360000.00,360000.00),(9712,9612,9001,9506,'2025-09-05 17:00:00',1,600000.00,600000.00);
/*!40000 ALTER TABLE `service_order_item` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2025-10-02  1:18:16
